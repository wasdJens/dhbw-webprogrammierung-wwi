<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Beer List</title>
    <style>
      /* Optional styling to see structure quickly */
      .beer-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .beer-list > li {
        margin: 0 0 12px 0;
      }
      .beer-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 12px;
      }
      .beer-card h2 {
        margin: 0 0 8px 0;
        font-size: 1.1rem;
      }
      .beer-prop {
        margin: 2px 0;
      }
    </style>
  </head>
  <body>
    <h1>Beer List</h1>

    <script>
      const beers = [
        {
          name: "Nattheimer Spezial",
          taste: "Good",
          brand: "Nattheimer",
          amount: 6,
          rating: 4,
          id: 1,
        },
        {
          name: "Goldochsen Kellerbier",
          taste: "Super",
          brand: "Goldochsen",
          amount: 0,
          rating: 1,
          id: 2,
        },
      ];

      function el(tag, { className, text, attrs } = {}) {
        const node = document.createElement(tag);
        if (className) {
          node.className = className;
        }
        if (text != null) {
          node.textContent = text;
        }
        if (attrs) {
          Object.entries(attrs).forEach(([k, v]) => node.setAttribute(k, v));
        }
        return node;
      }

      function buildBeerCard(beer) {
        const card = el("article", {
          className: "beer-card",
          attrs: { "data-id": beer.id },
        });

        card.appendChild(el("h2", { text: beer.name }));

        const fields = [
          { label: "Taste", value: beer.taste },
          { label: "Brand", value: beer.brand },
          { label: "Amount", value: beer.amount },
          { label: "Rating", value: beer.rating },
        ];

        const frag = document.createDocumentFragment();
        for (const f of fields) {
          frag.appendChild(
            el("p", { className: "beer-prop", text: `${f.label}: ${f.value}` })
          );
        }
        card.appendChild(frag);

        return card;
      }

      function renderBeerList() {
        const list = el("ul", { className: "beer-list" });
        const frag = document.createDocumentFragment();

        for (const beer of beers) {
          const li = document.createElement("li");
          li.appendChild(buildBeerCard(beer));
          frag.appendChild(li);
        }

        list.appendChild(frag);
        document.body.appendChild(list);
      }

      renderBeerList();
    </script>
  </body>
</html>
